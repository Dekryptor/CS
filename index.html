<html>
	<head>
	<link rel="stylesheet" type="text/css" href="stylesmenu.css">
	<script type="text/javascript" src="lib/keyboard.js"></script>
	<script>
		function openMenu(element) {
			var menu = document.getElementById(element);
			var menuHeight = screen.height / 2;
			var menuWidth = screen.width / 4.2;
			
			menu.style.height = menuHeight + "px";
			menu.style.width = menuWidth + "px";
			menu.style.marginTop = "-" + (menuHeight/2).toString() + "px";
			menu.style.marginLeft = "-" + (menuWidth/2).toString() + "px";
			menu.style.visibility = "visible";
		}
		
		function closePopupMenu(element) {
			var menu = document.getElementById(element);
			menu.style.visibility = "hidden";
		}
		
		function startGame() {
			var e = document.getElementById("dropDownMapMenu");
			var map = e.options[e.selectedIndex].value;
			sessionStorage.setItem("map", map);
			console.log(sessionStorage.getItem("map"));
			window.location = "game.html";
		}
		
		function joinGame() {
			var server = document.getElementById("server").value;
			sessionStorage.setItem("server", server);
			window.location = "game.html";
		}
	</script>
	
	</head>
	<body>
		<table id="menu">
			<tr>
				<td><a href="#" onClick="openMenu('newGameMenu')">New Game</a></td>
			</tr>
			<tr>
				<td><a href="#" onClick="openMenu('joinGameMenu')">Join Server</a></td>
			</tr>
		</table>
	
		<div class="PopupMenu" id="newGameMenu" style="visibility:hidden;">
			Map
			<select id="dropDownMapMenu">
				<option value="">< Random Map ></option>
				<option value="cs_assault.bsp">cs_assault</option>
				<option value="cs_italy.bsp">cs_italy</option>
			</select>
			<hr />
			
			<button id="menuStartButton" onclick="startGame()">Start</button>
			<button id="menuCancelButton" onclick="closePopupMenu('newGameMenu')">Cancel</button>
		</div>
		
		<div class="PopupMenu" id="joinGameMenu" style="visibility:hidden;">
			<input id="server"/>
			<button id="menuStartButton" onclick="joinGame()">Join</button>
			<button id="menuCancelButton" onclick="closePopupMenu('joinGameMenu')">Cancel</button>
		</div>
	</body>

</html>